{"is_source_file": true, "format": "Python", "description": "This file defines Flask routes and views related to order processing in an e-commerce application, including checkout, listing, and detail views for orders.", "external_files": ["../db", "../deps", "../models", "../pagination", "../schemas"], "external_methods": ["db.session.execute", "db.session.get", "db.session.add", "db.session.flush", "db.session.delete", "db.session.commit", "db.session.refresh", "db.select", "g.current_user", "abort", "build_pagination_metadata", "get_pagination_params"], "published": ["blp"], "classes": [{"name": "Checkout", "description": "Flask MethodView class handling the checkout process for an active shopping cart."}, {"name": "OrderList", "description": "Flask MethodView class providing the endpoint to list orders with pagination."}, {"name": "OrderDetail", "description": "Flask MethodView class to retrieve details of a specific order."}], "methods": [{"name": "Cart|None _active_cart(user_id: int)", "description": "Fetches the active cart for a given user ID.", "scope": "", "scopeKind": ""}, {"name": "dict _serialize_order(order: Order)", "description": "Serializes an Order object into a dictionary suitable for JSON response.", "scope": "", "scopeKind": ""}, {"name": "post(self, payload)", "description": "Handles the checkout process: creates an order from the active cart, marks cart as checked out, and returns serialized order.", "scope": "Checkout", "scopeKind": "class"}, {"name": "get(self)", "description": "Returns a paginated list of the current user's orders.", "scope": "OrderList", "scopeKind": "class"}, {"name": "get(self, order_id: int)", "description": "Retrieves a specific order by ID if it belongs to the current user.", "scope": "OrderDetail", "scopeKind": "class"}], "calls": ["db.session.execute", "db.session.get", "db.session.add", "db.session.flush", "db.session.delete", "db.session.commit", "db.session.refresh", "db.select", "g.current_user.id", "abort", "build_pagination_metadata", "get_pagination_params"], "search-terms": ["Flask routes", "Order processing", "checkout endpoint", "Order serialization", "Order listing", "Order detail", "backend/app/routes/orders.py"], "state": 2, "file_id": 16, "knowledge_revision": 39, "git_revision": "45cbd2fc8ae0220ed5cbbaf8bca98291a60c63cc", "ctags": [{"_type": "tag", "name": "Checkout", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18611/backend/app/routes/orders.py", "pattern": "/^class Checkout(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "OrderDetail", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18611/backend/app/routes/orders.py", "pattern": "/^class OrderDetail(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "OrderList", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18611/backend/app/routes/orders.py", "pattern": "/^class OrderList(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_active_cart", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18611/backend/app/routes/orders.py", "pattern": "/^def _active_cart(user_id: int) -> Cart | None:$/", "language": "Python", "typeref": "typename:Cart|None", "kind": "function", "signature": "(user_id: int)"}, {"_type": "tag", "name": "_serialize_order", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18611/backend/app/routes/orders.py", "pattern": "/^def _serialize_order(order: Order) -> dict:$/", "language": "Python", "typeref": "typename:dict", "kind": "function", "signature": "(order: Order)"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18611/backend/app/routes/orders.py", "pattern": "/^blp = Blueprint(\"Orders\", \"orders\", url_prefix=\"\\/orders\", description=\"Orders and checkout\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18611/backend/app/routes/orders.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "OrderList", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18611/backend/app/routes/orders.py", "pattern": "/^    def get(self, order_id: int):$/", "language": "Python", "kind": "member", "signature": "(self, order_id: int)", "scope": "OrderDetail", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/ecommerce-starter-scaffold-18595-18611/backend/app/routes/orders.py", "pattern": "/^    def post(self, payload):$/", "language": "Python", "kind": "member", "signature": "(self, payload)", "scope": "Checkout", "scopeKind": "class"}], "hash": "3c2234f8fe8fd30f9fe988be7f79e9c2", "format-version": 4, "code-base-name": "backend", "filename": "backend/app/routes/orders.py", "fields": [{"name": "blp = Blueprint(\"Orders\", \"orders\", url_prefix=\"\\/orders\", description=\"Orders and checkout\")", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"39": "45cbd2fc8ae0220ed5cbbaf8bca98291a60c63cc"}]}